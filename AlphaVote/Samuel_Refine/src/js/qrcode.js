var QRCode=function(e){"use strict";var o,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],t=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},n=function(e){return r[e]},a=function(e){for(var o=0;0!==e;)o++,e>>>=1;return o},s=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');o=e},c=function(){return void 0!==o},d=function(e){return o(e)};function l(e,o){return e(o={exports:{}},o.exports),o.exports}var i=l((function(e,o){o.L={bit:1},o.M={bit:0},o.Q={bit:3},o.H={bit:2},o.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},o.from=function(e,r){if(o.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return o.L;case"m":case"medium":return o.M;case"q":case"quartile":return o.Q;case"h":case"high":return o.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return r}}}));function u(){this.buffer=[],this.length=0}i.L,i.M,i.Q,i.H,i.isValid,u.prototype={get:function(e){var o=Math.floor(e/8);return 1==(this.buffer[o]>>>7-e%8&1)},put:function(e,o){for(var r=0;r<o;r++)this.putBit(1==(e>>>o-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),e&&(this.buffer[o]|=128>>>this.length%8),this.length++}};var B=u;function k(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}k.prototype.set=function(e,o,r,t){var n=e*this.size+o;this.data[n]=r,t&&(this.reservedBit[n]=!0)},k.prototype.get=function(e,o){return this.data[e*this.size+o]},k.prototype.xor=function(e,o,r){this.data[e*this.size+o]^=r},k.prototype.isReserved=function(e,o){return this.reservedBit[e*this.size+o]};var f=k,h=l((function(e,o){var r=t;o.getRowColCoords=function(e){if(1===e)return[];for(var o=Math.floor(e/7)+2,t=r(e),n=145===t?26:2*Math.ceil((t-13)/(2*o-2)),a=[t-7],s=1;s<o-1;s++)a[s]=a[s-1]-n;return a.push(6),a.reverse()},o.getPositions=function(e){for(var r=[],t=o.getRowColCoords(e),n=t.length,a=0;a<n;a++)for(var s=0;s<n;s++)0===a&&0===s||0===a&&s===n-1||a===n-1&&0===s||r.push([t[a],t[s]]);return r}}));h.getRowColCoords,h.getPositions;var m=t,w=function(e){var o=m(e);return[[0,0],[o-7,0],[0,o-7]]},C=l((function(e,o){o.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var r=3,t=3,n=40,a=10;function s(e,r,t){switch(e){case o.Patterns.PATTERN000:return(r+t)%2==0;case o.Patterns.PATTERN001:return r%2==0;case o.Patterns.PATTERN010:return t%3==0;case o.Patterns.PATTERN011:return(r+t)%3==0;case o.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(t/3))%2==0;case o.Patterns.PATTERN101:return r*t%2+r*t%3==0;case o.Patterns.PATTERN110:return(r*t%2+r*t%3)%2==0;case o.Patterns.PATTERN111:return(r*t%3+(r+t)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}o.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},o.from=function(e){return o.isValid(e)?parseInt(e,10):void 0},o.getPenaltyN1=function(e){for(var o=e.size,t=0,n=0,a=0,s=null,c=null,d=0;d<o;d++){n=a=0,s=c=null;for(var l=0;l<o;l++){var i=e.get(d,l);i===s?n++:(n>=5&&(t+=r+(n-5)),s=i,n=1),(i=e.get(l,d))===c?a++:(a>=5&&(t+=r+(a-5)),c=i,a=1)}n>=5&&(t+=r+(n-5)),a>=5&&(t+=r+(a-5))}return t},o.getPenaltyN2=function(e){for(var o=e.size,r=0,n=0;n<o-1;n++)for(var a=0;a<o-1;a++){var s=e.get(n,a)+e.get(n,a+1)+e.get(n+1,a)+e.get(n+1,a+1);4!==s&&0!==s||r++}return r*t},o.getPenaltyN3=function(e){for(var o=e.size,r=0,t=0,a=0,s=0;s<o;s++){t=a=0;for(var c=0;c<o;c++)t=t<<1&2047|e.get(s,c),c>=10&&(1488===t||93===t)&&r++,a=a<<1&2047|e.get(c,s),c>=10&&(1488===a||93===a)&&r++}return r*n},o.getPenaltyN4=function(e){for(var o=0,r=e.data.length,t=0;t<r;t++)o+=e.data[t];return Math.abs(Math.ceil(100*o/r/5)-10)*a},o.applyMask=function(e,o){for(var r=o.size,t=0;t<r;t++)for(var n=0;n<r;n++)o.isReserved(n,t)||o.xor(n,t,s(e,n,t))},o.getBestMask=function(e,r){for(var t=Object.keys(o.Patterns).length,n=0,a=1/0,s=0;s<t;s++){r(s),o.applyMask(s,e);var c=o.getPenaltyN1(e)+o.getPenaltyN2(e)+o.getPenaltyN3(e)+o.getPenaltyN4(e);o.applyMask(s,e),c<a&&(a=c,n=s)}return n}}));C.Patterns,C.isValid,C.getPenaltyN1,C.getPenaltyN2,C.getPenaltyN3,C.getPenaltyN4,C.applyMask,C.getBestMask;var v=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],g=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],P=function(e,o){switch(o){case i.L:return v[4*(e-1)+0];case i.M:return v[4*(e-1)+1];case i.Q:return v[4*(e-1)+2];case i.H:return v[4*(e-1)+3];default:return}},y=function(e,o){switch(o){case i.L:return g[4*(e-1)+0];case i.M:return g[4*(e-1)+1];case i.Q:return g[4*(e-1)+2];case i.H:return g[4*(e-1)+3];default:return}},p=new Uint8Array(512),b=new Uint8Array(256);!function(){for(var e=1,o=0;o<255;o++)p[o]=e,b[e]=o,256&(e<<=1)&&(e^=285);for(var r=255;r<512;r++)p[r]=p[r-255]}();var M=function(e){return p[e]},x=function(e,o){return 0===e||0===o?0:p[b[e]+b[o]]},A=l((function(e,o){o.mul=function(e,o){for(var r=new Uint8Array(e.length+o.length-1),t=0;t<e.length;t++)for(var n=0;n<o.length;n++)r[t+n]^=x(e[t],o[n]);return r},o.mod=function(e,o){for(var r=new Uint8Array(e);r.length-o.length>=0;){for(var t=r[0],n=0;n<o.length;n++)r[n]^=x(o[n],t);for(var a=0;a<r.length&&0===r[a];)a++;r=r.slice(a)}return r},o.generateECPolynomial=function(e){for(var r=new Uint8Array([1]),t=0;t<e;t++)r=o.mul(r,new Uint8Array([1,M(t)]));return r}}));function I(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}A.mul,A.mod,A.generateECPolynomial,I.prototype.initialize=function(e){this.degree=e,this.genPoly=A.generateECPolynomial(this.degree)},I.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var o=new Uint8Array(e.length+this.degree);o.set(e);var r=A.mod(o,this.genPoly),t=this.degree-r.length;if(t>0){var n=new Uint8Array(this.degree);return n.set(r,t),n}return r};var L=I,E=function(e){return!isNaN(e)&&e>=1&&e<=40},N="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",R="(?:(?![A-Z0-9 $%*+\\-./:]|"+(N=N.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+",T=new RegExp(N,"g"),U=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),z=new RegExp(R,"g"),S=new RegExp("[0-9]+","g"),F=new RegExp("[A-Z $%*+\\-./:]+","g"),D=new RegExp("^"+N+"$"),X=new RegExp("^[0-9]+$"),O=new RegExp("^[A-Z0-9 $%*+\\-./:]+$"),H={KANJI:T,BYTE_KANJI:U,BYTE:z,NUMERIC:S,ALPHANUMERIC:F,testKanji:function(e){return D.test(e)},testNumeric:function(e){return X.test(e)},testAlphanumeric:function(e){return O.test(e)}},j=l((function(e,o){o.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},o.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},o.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},o.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},o.MIXED={bit:-1},o.getCharCountIndicator=function(e,o){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!E(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?e.ccBits[0]:o<27?e.ccBits[1]:e.ccBits[2]},o.getBestModeForData=function(e){return H.testNumeric(e)?o.NUMERIC:H.testAlphanumeric(e)?o.ALPHANUMERIC:H.testKanji(e)?o.KANJI:o.BYTE},o.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},o.isValid=function(e){return e&&e.bit&&e.ccBits},o.from=function(e,r){if(o.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return o.NUMERIC;case"alphanumeric":return o.ALPHANUMERIC;case"kanji":return o.KANJI;case"byte":return o.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return r}}}));j.NUMERIC,j.ALPHANUMERIC,j.BYTE,j.KANJI,j.MIXED,j.getCharCountIndicator,j.getBestModeForData,j.isValid;var Y=l((function(e,o){var r=a(7973);function t(e,o){return j.getCharCountIndicator(e,o)+4}function s(e,o){var r=0;return e.forEach((function(e){var n=t(e.mode,o);r+=n+e.getBitsLength()})),r}o.from=function(e,o){return E(e)?parseInt(e,10):o},o.getCapacity=function(e,o,r){if(!E(e))throw new Error("Invalid QR Code version");void 0===r&&(r=j.BYTE);var a=8*(n(e)-y(e,o));if(r===j.MIXED)return a;var s=a-t(r,e);switch(r){case j.NUMERIC:return Math.floor(s/10*3);case j.ALPHANUMERIC:return Math.floor(s/11*2);case j.KANJI:return Math.floor(s/13);case j.BYTE:default:return Math.floor(s/8)}},o.getBestVersionForData=function(e,r){var t,n=i.from(r,i.M);if(Array.isArray(e)){if(e.length>1)return function(e,r){for(var t=1;t<=40;t++){if(s(e,t)<=o.getCapacity(t,r,j.MIXED))return t}}(e,n);if(0===e.length)return 1;t=e[0]}else t=e;return function(e,r,t){for(var n=1;n<=40;n++)if(r<=o.getCapacity(n,t,e))return n}(t.mode,t.getLength(),n)},o.getEncodedBits=function(e){if(!E(e)||e<7)throw new Error("Invalid QR Code version");for(var o=e<<12;a(o)-r>=0;)o^=7973<<a(o)-r;return e<<12|o}}));Y.getCapacity,Y.getBestVersionForData,Y.getEncodedBits;var K=a(1335),_=function(e,o){for(var r=e.bit<<3|o,t=r<<10;a(t)-K>=0;)t^=1335<<a(t)-K;return 21522^(r<<10|t)};function J(e){this.mode=j.NUMERIC,this.data=e.toString()}J.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},J.prototype.getLength=function(){return this.data.length},J.prototype.getBitsLength=function(){return J.getBitsLength(this.data.length)},J.prototype.write=function(e){var o,r,t;for(o=0;o+3<=this.data.length;o+=3)r=this.data.substr(o,3),t=parseInt(r,10),e.put(t,10);var n=this.data.length-o;n>0&&(r=this.data.substr(o),t=parseInt(r,10),e.put(t,3*n+1))};var Q=J,$=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Z(e){this.mode=j.ALPHANUMERIC,this.data=e}Z.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},Z.prototype.getLength=function(){return this.data.length},Z.prototype.getBitsLength=function(){return Z.getBitsLength(this.data.length)},Z.prototype.write=function(e){var o;for(o=0;o+2<=this.data.length;o+=2){var r=45*$.indexOf(this.data[o]);r+=$.indexOf(this.data[o+1]),e.put(r,11)}this.data.length%2&&e.put($.indexOf(this.data[o]),6)};var q=Z;function V(e){this.mode=j.BYTE,this.data=new Uint8Array(function(e){for(var o=[],r=e.length,t=0;t<r;t++){var n=e.charCodeAt(t);if(n>=55296&&n<=56319&&r>t+1){var a=e.charCodeAt(t+1);a>=56320&&a<=57343&&(n=1024*(n-55296)+a-56320+65536,t+=1)}n<128?o.push(n):n<2048?(o.push(n>>6|192),o.push(63&n|128)):n<55296||n>=57344&&n<65536?(o.push(n>>12|224),o.push(n>>6&63|128),o.push(63&n|128)):n>=65536&&n<=1114111?(o.push(n>>18|240),o.push(n>>12&63|128),o.push(n>>6&63|128),o.push(63&n|128)):o.push(239,191,189)}return new Uint8Array(o).buffer}(e))}V.getBitsLength=function(e){return 8*e},V.prototype.getLength=function(){return this.data.length},V.prototype.getBitsLength=function(){return V.getBitsLength(this.data.length)},V.prototype.write=function(e){for(var o=0,r=this.data.length;o<r;o++)e.put(this.data[o],8)};var W=V;function G(e){this.mode=j.KANJI,this.data=e}G.getBitsLength=function(e){return 13*e},G.prototype.getLength=function(){return this.data.length},G.prototype.getBitsLength=function(){return G.getBitsLength(this.data.length)},G.prototype.write=function(e){var o;for(o=0;o<this.data.length;o++){var r=d(this.data[o]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[o]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}};var ee=G,oe=l((function(e){var o={single_source_shortest_paths:function(e,r,t){var n={},a={};a[r]=0;var s,c,d,l,i,u,B,k=o.PriorityQueue.make();for(k.push(r,0);!k.empty();)for(d in c=(s=k.pop()).value,l=s.cost,i=e[c]||{})i.hasOwnProperty(d)&&(u=l+i[d],B=a[d],(void 0===a[d]||B>u)&&(a[d]=u,k.push(d,u),n[d]=c));if(void 0!==t&&void 0===a[t]){var f=["Could not find a path from ",r," to ",t,"."].join("");throw new Error(f)}return n},extract_shortest_path_from_predecessor_list:function(e,o){for(var r=[],t=o;t;)r.push(t),t=e[t];return r.reverse(),r},find_path:function(e,r,t){var n=o.single_source_shortest_paths(e,r,t);return o.extract_shortest_path_from_predecessor_list(n,t)},PriorityQueue:{make:function(e){var r,t=o.PriorityQueue,n={};for(r in e=e||{},t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n.queue=[],n.sorter=e.sorter||t.default_sorter,n},default_sorter:function(e,o){return e.cost-o.cost},push:function(e,o){var r={value:e,cost:o};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=o})),re=l((function(e,o){function r(e){return unescape(encodeURIComponent(e)).length}function t(e,o,r){for(var t,n=[];null!==(t=e.exec(r));)n.push({data:t[0],index:t.index,mode:o,length:t[0].length});return n}function n(e){var o,r,n=t(H.NUMERIC,j.NUMERIC,e),a=t(H.ALPHANUMERIC,j.ALPHANUMERIC,e);return c()?(o=t(H.BYTE,j.BYTE,e),r=t(H.KANJI,j.KANJI,e)):(o=t(H.BYTE_KANJI,j.BYTE,e),r=[]),n.concat(a,o,r).sort((function(e,o){return e.index-o.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function a(e,o){switch(o){case j.NUMERIC:return Q.getBitsLength(e);case j.ALPHANUMERIC:return q.getBitsLength(e);case j.KANJI:return ee.getBitsLength(e);case j.BYTE:return W.getBitsLength(e)}}function s(e,o){var r,t=j.getBestModeForData(e);if((r=j.from(o,t))!==j.BYTE&&r.bit<t.bit)throw new Error('"'+e+'" cannot be encoded with mode '+j.toString(r)+".\n Suggested mode is: "+j.toString(t));switch(r!==j.KANJI||c()||(r=j.BYTE),r){case j.NUMERIC:return new Q(e);case j.ALPHANUMERIC:return new q(e);case j.KANJI:return new ee(e);case j.BYTE:return new W(e)}}o.fromArray=function(e){return e.reduce((function(e,o){return"string"==typeof o?e.push(s(o,null)):o.data&&e.push(s(o.data,o.mode)),e}),[])},o.fromString=function(e,t){for(var s=function(e,o){for(var r={},t={start:{}},n=["start"],s=0;s<e.length;s++){for(var c=e[s],d=[],l=0;l<c.length;l++){var i=c[l],u=""+s+l;d.push(u),r[u]={node:i,lastCount:0},t[u]={};for(var B=0;B<n.length;B++){var k=n[B];r[k]&&r[k].node.mode===i.mode?(t[k][u]=a(r[k].lastCount+i.length,i.mode)-a(r[k].lastCount,i.mode),r[k].lastCount+=i.length):(r[k]&&(r[k].lastCount=i.length),t[k][u]=a(i.length,i.mode)+4+j.getCharCountIndicator(i.mode,o))}}n=d}for(var f=0;f<n.length;f++)t[n[f]].end=0;return{map:t,table:r}}(function(e){for(var o=[],t=0;t<e.length;t++){var n=e[t];switch(n.mode){case j.NUMERIC:o.push([n,{data:n.data,mode:j.ALPHANUMERIC,length:n.length},{data:n.data,mode:j.BYTE,length:n.length}]);break;case j.ALPHANUMERIC:o.push([n,{data:n.data,mode:j.BYTE,length:n.length}]);break;case j.KANJI:o.push([n,{data:n.data,mode:j.BYTE,length:r(n.data)}]);break;case j.BYTE:o.push([{data:n.data,mode:j.BYTE,length:r(n.data)}])}}return o}(n(e)),t),c=oe.find_path(s.map,"start","end"),d=[],l=1;l<c.length-1;l++)d.push(s.table[c[l]].node);return o.fromArray(function(e){return e.reduce((function(e,o){var r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===o.mode?(e[e.length-1].data+=o.data,e):(e.push(o),e)}),[])}(d))},o.rawSplit=function(e){return o.fromArray(n(e))}}));function te(e,o,r){var t,n,a=e.size,s=_(o,r);for(t=0;t<15;t++)n=1==(s>>t&1),t<6?e.set(t,8,n,!0):t<8?e.set(t+1,8,n,!0):e.set(a-15+t,8,n,!0),t<8?e.set(8,a-t-1,n,!0):t<9?e.set(8,15-t-1+1,n,!0):e.set(8,15-t-1,n,!0);e.set(a-8,8,1,!0)}function ne(e,o,r){var t=new B;r.forEach((function(o){t.put(o.mode.bit,4),t.put(o.getLength(),j.getCharCountIndicator(o.mode,e)),o.write(t)}));var a=8*(n(e)-y(e,o));for(t.getLengthInBits()+4<=a&&t.put(0,4);t.getLengthInBits()%8!=0;)t.putBit(0);for(var s=(a-t.getLengthInBits())/8,c=0;c<s;c++)t.put(c%2?17:236,8);return function(e,o,r){for(var t=n(o),a=y(o,r),s=t-a,c=P(o,r),d=c-t%c,l=Math.floor(t/c),i=Math.floor(s/c),u=i+1,B=l-i,k=new L(B),f=0,h=new Array(c),m=new Array(c),w=0,C=new Uint8Array(e.buffer),v=0;v<c;v++){var g=v<d?i:u;h[v]=C.slice(f,f+g),m[v]=k.encode(h[v]),f+=g,w=Math.max(w,g)}var p,b,M=new Uint8Array(t),x=0;for(p=0;p<w;p++)for(b=0;b<c;b++)p<h[b].length&&(M[x++]=h[b][p]);for(p=0;p<B;p++)for(b=0;b<c;b++)M[x++]=m[b][p];return M}(t,e,o)}function ae(e,o,r,n){var a;if(Array.isArray(e))a=re.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var s=o;if(!s){var c=re.rawSplit(e);s=Y.getBestVersionForData(c,r)}a=re.fromString(e,s||40)}var d=Y.getBestVersionForData(a,r);if(!d)throw new Error("The amount of data is too big to be stored in a QR Code");if(o){if(o<d)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+d+".\n")}else o=d;var l=ne(o,r,a),i=t(o),u=new f(i);return function(e,o){for(var r=e.size,t=w(o),n=0;n<t.length;n++)for(var a=t[n][0],s=t[n][1],c=-1;c<=7;c++)if(!(a+c<=-1||r<=a+c))for(var d=-1;d<=7;d++)s+d<=-1||r<=s+d||(c>=0&&c<=6&&(0===d||6===d)||d>=0&&d<=6&&(0===c||6===c)||c>=2&&c<=4&&d>=2&&d<=4?e.set(a+c,s+d,!0,!0):e.set(a+c,s+d,!1,!0))}(u,o),function(e){for(var o=e.size,r=8;r<o-8;r++){var t=r%2==0;e.set(r,6,t,!0),e.set(6,r,t,!0)}}(u),function(e,o){for(var r=h.getPositions(o),t=0;t<r.length;t++)for(var n=r[t][0],a=r[t][1],s=-2;s<=2;s++)for(var c=-2;c<=2;c++)-2===s||2===s||-2===c||2===c||0===s&&0===c?e.set(n+s,a+c,!0,!0):e.set(n+s,a+c,!1,!0)}(u,o),te(u,r,0),o>=7&&function(e,o){for(var r,t,n,a=e.size,s=Y.getEncodedBits(o),c=0;c<18;c++)r=Math.floor(c/3),t=c%3+a-8-3,n=1==(s>>c&1),e.set(r,t,n,!0),e.set(t,r,n,!0)}(u,o),function(e,o){for(var r=e.size,t=-1,n=r-1,a=7,s=0,c=r-1;c>0;c-=2)for(6===c&&c--;;){for(var d=0;d<2;d++)if(!e.isReserved(n,c-d)){var l=!1;s<o.length&&(l=1==(o[s]>>>a&1)),e.set(n,c-d,l),-1===--a&&(s++,a=7)}if((n+=t)<0||r<=n){n-=t,t=-t;break}}}(u,l),isNaN(n)&&(n=C.getBestMask(u,te.bind(null,u,r))),C.applyMask(n,u),te(u,r,n),{modules:u,version:o,errorCorrectionLevel:r,maskPattern:n,segments:a}}re.fromArray,re.fromString,re.rawSplit;var se=function(e,o){if(void 0===e||""===e)throw new Error("No input alrorand URI");var r,t,n=i.M;return void 0!==o&&(n=i.from(o.errorCorrectionLevel,i.M),r=Y.from(o.version),t=C.from(o.maskPattern),o.toSJISFunc&&s(o.toSJISFunc)),ae(e,r,n,t)};function ce(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function de(e,o){for(var r=0;r<o.length;r++){var t=o[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function le(e,o,r){return o&&de(e.prototype,o),r&&de(e,r),e}function ie(e){return function(e){if(Array.isArray(e))return Be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,o){if(e){if("string"==typeof e)return Be(e,o);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Be(e,o):void 0}}function Be(e,o){(null==o||o>e.length)&&(o=e.length);for(var r=0,t=new Array(o);r<o;r++)t[r]=e[r];return t}function ke(e,o){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ue(e))||o&&e&&"number"==typeof e.length){r&&(e=r);var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}var fe=/(^|[^\uD800-\uDBFF])[\uDC00-\uDFFF]|[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/g,he=/(?:[^\x21\x25\x26-\x3B\x3D\x3F-\x5B\x5D\x5F\x61-\x7A\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g,me=/["'&<>]/;function we(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var o=e.slice().replace("#","").split("");if(o.length<3||5===o.length||o.length>8)throw new Error("Invalid hex color: "+e);3!==o.length&&4!==o.length||(o=Array.prototype.concat.apply([],o.map((function(e){return[e,e]})))),6===o.length&&o.push("F","F");var r=parseInt(o.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+o.slice(0,6).join("")}}var Ce,ve,ge,Pe=function(e){e||(e={}),e.color||(e.color={});var o=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,t=e.scale||4;return{width:r,scale:r?4:t,margin:o,color:{dark:we(e.color.dark||"#000000ff"),light:we(e.color.light||"#ffffffff")},type:e.type,inverse:Boolean(e.inverse),html:Boolean(e.html),rendererOpts:e.rendererOpts||{}}},ye=function(e,o){return o.width&&o.width>=e+2*o.margin?o.width/(e+2*o.margin):o.scale},pe=(ge=Pe,(ve="getOptions")in(Ce={getOptions:Pe,getScale:ye,getImageWidth:function(e,o){var r=ye(e,o);return Math.floor((e+2*o.margin)*r)},qrToImageData:function(e,o,r){for(var t=o.modules.size,n=o.modules.data,a=ye(t,r),s=Math.floor((t+2*r.margin)*a),c=r.margin*a,d=r.inverse?[r.color.dark,r.color.light]:[r.color.light,r.color.dark],l=0;l<s;l++)for(var i=0;i<s;i++){var u=4*(l*s+i),B=r.color.light;l>=c&&i>=c&&l<s-c&&i<s-c&&(B=d[n[Math.floor((l-c)/a)*t+Math.floor((i-c)/a)]?1:0]),e[u++]=B.r,e[u++]=B.g,e[u++]=B.b,e[u]=B.a}return e},escapeHtml:function(e){var o,r=""+e,t=me.exec(r);if(!t)return r;var n="",a=0,s=0;for(a=t.index;a<r.length;a++){switch(r.charCodeAt(a)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&#39;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}s!==a&&(n+=r.substring(s,a)),s=a+1,n+=o}return s!==a?n+r.substring(s,a):n},encodeUrl:function(e){var o=e.match(/^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9]+$/),r=e.match(/^[a-zA-Z0-9!@#\$%\^\&*\)\(+=.-]+$/g);return o?String(e):r?String(e.replace(fe,"$1�$2").replace(he,encodeURI)):String(e).replace(/ /g,"_")}})?Object.defineProperty(Ce,ve,{value:ge,enumerable:!0,configurable:!0,writable:!0}):Ce[ve]=ge,Ce);pe.getOptions,pe.getScale,pe.getImageWidth,pe.qrToImageData,pe.escapeHtml,pe.encodeUrl;var be=l((function(e,o){function r(e,o,r){var t,n,a,s,c,d=255;if(arguments.length<2?(o=(e=e.red/d).green/d,r=e.blue/d):(e/=d,o/=d,r/=d),s=Math.min(e,o,r),a=((c=Math.max(e,o,r))+s)/2,c==s)n=t=0;else{var l=c-s;n=a>.5?l/(2-c-s):l/(c+s),(t=60*(e>r&&e>o?(o-r)/l:o>r&&o>e?2+(r-e)/l:4+(e-o)/l))<0&&(t+=360)}return[t,n,a]}var t=function(e,o,r){e/=255,o/=255,r/=255;var t,n,a=Math.max(e,o,r),s=Math.min(e,o,r),c=a,d=a-s;if(n=0===a?0:d/a,a===s)t=0;else{switch(a){case e:t=(o-r)/d+(o<r?6:0);break;case o:t=(r-e)/d+2;break;case r:t=(e-o)/d+4}t/=6}return[t,n,c]},n=function(e,o,r){var t=.2126,n=.0722,a=t*e+.7152*o+n*r;return[a,(r-a)/(1-n)*.436,(e-a)/(1-t)*.615]},a=function(e,o,r){var t=.2126*e+.7152*o+.0722*r;return[t,(r-t)/.9278*.436,(e-t)/.7874*.615]},s=function(e,o,r){var t=.2126,n=.0722;return[e+r*(1-t/.615),e- -.23992535816618918*o-.1946753932487805*r,e+o*((1-n)/.436)]};function c(){}c.prototype={threshold:50,iterate:function(e,o){for(var r=e.getContext("2d"),t=r.getImageData(0,0,e.width,e.height),n={},a=0,s=t.data.length/4;a<s&&(n.r=t.data[4*a+0],n.g=t.data[4*a+1],n.b=t.data[4*a+2],n.a=t.data[4*a+3],!1!==o(n,a,s,t.data,e.width,e.height,this));a++)t.data[4*a+0]=n.r,t.data[4*a+1]=n.g,t.data[4*a+2]=n.b,t.data[4*a+3]=n.a;r.putImageData(t,0,0)},transforms:{grayscale:{lightness:function(e){e.r=e.g=e.b=(Math.max(e.r,e.g,e.b)+Math.min(e.r,e.g,e.b))/2},average:function(e){e.r=e.g=e.b=(e.r+e.g+e.b)/3},luma:function(e){e.r=e.b=e.g=.2125*e.r+.7154*e.g+.0721*e.b},lumaY:function(e){e.r=e.b=e.g=.299*e.r+.587*e.g+.114*e.b},lumaRMY:function(e){e.r=e.b=e.g=.5*e.r+.419*e.g+.081*e.b}},brightenThreshold:function(e,o,t,n,a,s,c){var d,l=r(e.r,e.g,e.b);l[1]<c.threshold/100&&(d=function(e,o,r){var t,n,a;if(0==o)t=n=a=r;else{var s=function(e,o,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(o-e)*r:r<.5?o:r<2/3?e+(o-e)*(2/3-r)*6:e},c=r<.5?r*(1+o):r+o-r*o,d=2*r-c;t=s(d,c,e+1/3),n=s(d,c,e),a=s(d,c,e-1/3)}return[255*t,255*n,255*a]}(l[0],c.threshold/100,l[2]),e.r=d[0],e.g=d[1],e.b=d[2])},saturationThreshold:function(e,o,r,n,a,s,c){var d,l=t(e.r,e.g,e.b);l[1]>c.threshold/100&&(d=function(e,o,r){var t,n,a,s=Math.floor(6*e),c=6*e-s,d=r*(1-o),l=r*(1-c*o),i=r*(1-(1-c)*o);switch(s%6){case 0:t=r,n=i,a=d;break;case 1:t=l,n=r,a=d;break;case 2:t=d,n=r,a=i;break;case 3:t=d,n=l,a=r;break;case 4:t=i,n=d,a=r;break;case 5:t=r,n=d,a=l}return[255*t,255*n,255*a]}(l[0],c.threshold/100,l[2]),e.r=d[0],e.g=d[1],e.b=d[2])},dimThreshold:function(e,o,r,t,s,c,d){if(.2125*e.r+.7154*e.g+.0721*e.b>d.threshold){var l,i=n(e.r,e.g,e.b);l=a(d.threshold,i[1],i[2]),e.r=l[0],e.g=l[1],e.b=l[2]}},lightenThreshold:function(e,o,r,t,s,c,d){if(.2125*e.r+.7154*e.g+.0721*e.b<d.threshold){var l,i=n(e.r,e.g,e.b);l=a(d.threshold,i[1],i[2]),e.r=l[0],e.g=l[1],e.b=l[2]}},debug:{traceBrightenThreshold:function(e,o,t,n,a,s,c){r(e.r,e.g,e.b)[1]>c.threshold/100&&(e.r=0,e.g=255,e.b=0)},traceSaturationThreshold:function(e,o,r,n,a,s,c){t(e.r,e.g,e.b)[1]>c.threshold/100&&(e.r=0,e.g=255,e.b=0)},traceDimThreshold:function(e,o,r,t,n,a,s){.2125*e.r+.7154*e.g+.0721*e.b<s.threshold&&(e.r=0,e.g=255,e.b=0)},yuvAndBack:function(e){var o=n(e.r,e.g,e.b),r=a(o[0],o[1],o[2]);e.r=r[0],e.g=r[1],e.b=r[2]}}}},o.render=function(e,o,r){var t=r,a=o;void 0!==t||o&&o.getContext||(t=o,o=void 0),o||(a=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),t=pe.getOptions(t);var d=pe.getImageWidth(e.modules.size,t),l=a.getContext("2d"),i=l.createImageData(d,d);if(pe.qrToImageData(i.data,e,t),function(e,o,r){e.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=r,o.width=r,o.style.height=r+"px",o.style.width=r+"px"}(l,a,d),l.putImageData(i,0,0),r.withBgLogo&&r.bgLogo){var u=new Image;u.src=r.bgLogo;var B=l.getImageData(0,0,d,d),k=new c,f=t.darkThreshold||25,h=t.lightThreshold||75;k.threshold=50;var m=d,w=d;u.width>u.height?(m*=d/w,w=d):(w*=d/m,m=d),l.drawImage(u,0,0,m,w);try{return k.iterate(a,(function(e,o,r,t,a,c,d){var l,i,u,k,m,w=.2125*e.r+.7154*e.g+.0721*e.b;(l=B.data[4*o],i=B.data[4*o+1],u=B.data[4*o+2],.2125*l+.7154*i+.0721*u)>d.threshold?w<h&&(k=n(e.r,e.g,e.b),m=s(h,k[1],k[2]),e.r=m[0],e.g=m[1],e.b=m[2],e.a=255):w>f&&(k=n(e.r,e.g,e.b),m=s(f,k[1],k[2]),e.r=m[0],e.g=m[1],e.b=m[2])})),a}catch(e){console.log(e)}}if(r.withLogo&&r.logo){var C=new Image;C.src=r.logo;var v={width:r.logoSize||50,height:r.logoSize||50};return C.onload=function(){l.drawImage(C,a.width/2-v.width/2,a.height/2-v.height/2,v.width,v.height)},a}return a},o.renderToDataURL=function(e,r,t){var n=t;void 0!==n||r&&r.getContext||(n=r,r=void 0),n||(n={});var a=o.render(e,r,n),s=n.type||"image/png",c=n.rendererOpts||{};return a.toDataURL(s,c.quality)}}));function Me(e,o){var r=e.a/255,t=o+'="'+e.hex+'"';return r<1?t+" "+o+'-opacity="'+r.toFixed(2).slice(1)+'"':t}function xe(e,o,r){var t=e+o;return void 0!==r&&(t+=" "+r),t}be.render,be.renderToDataURL;var Ae=function(e,o,r){var t=pe.getOptions(o),n=e.modules.size,a=e.modules.data,s=n+2*t.margin,c=t.color.light.a?"<path "+Me(t.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",d="<path "+Me(t.color.dark,"stroke")+' d="'+function(e,o,r){for(var t="",n=0,a=!1,s=0,c=0;c<e.length;c++){var d=Math.floor(c%o),l=Math.floor(c/o);d||a||(a=!0),e[c]?(s++,c>0&&d>0&&e[c-1]||(t+=a?xe("M",d+r,.5+l+r):xe("m",n,0),n=0,a=!1),d+1<o&&e[c+1]||(t+=xe("h",s),s=0)):n++}return t}(a,n,t.margin)+'"/>',l='viewBox="0 0 '+s+" "+s+'"',i='<svg xmlns="http://www.w3.org/2000/svg" '+(t.width?'width="'+t.width+'" height="'+t.width+'" ':"")+l+' shape-rendering="crispEdges">'+c+d+"</svg>\n";return"function"==typeof r&&r(null,i),i},Ie=function(){function e(o,r){ce(this,e),this.width=r,this.height=o.length/r,this.data=o}return le(e,[{key:"get",value:function(e,o){return!(e<0||e>=this.width||o<0||o>=this.height)&&!!this.data[o*this.width+e]}},{key:"set",value:function(e,o,r){this.data[o*this.width+e]=r?1:0}},{key:"setRegion",value:function(e,o,r,t,n){for(var a=o;a<o+t;a++)for(var s=e;s<e+r;s++)this.set(s,a,!!n)}}],[{key:"createEmpty",value:function(o,r){return new e(new Uint8ClampedArray(o*r),o)}}]),e}();function Le(e,o,r){return e<o?o:e>r?r:e}var Ee=function(){function e(o,r,t){ce(this,e),this.width=o;var n=o*r;if(t&&t.length!==n)throw new Error("Wrong buffer size");this.data=t||new Uint8ClampedArray(n)}return le(e,[{key:"get",value:function(e,o){return this.data[o*this.width+e]}},{key:"set",value:function(e,o,r){this.data[o*this.width+e]=r}}]),e}();function Ne(e,o,r,t,n,a){var s=o*r;if(e.length!==4*s)throw new Error("Malformed data passed to binarizer.");var c,d=0;a&&(c=new Uint8ClampedArray(e.buffer,d,s),d+=s);var l=new Ee(o,r,c);if(n.useIntegerApproximation)for(var i=0;i<r;i++)for(var u=0;u<o;u++){var B=4*(i*o+u),k=e[B],f=e[B+1],h=e[B+2];l.set(u,i,n.red*k+n.green*f+n.blue*h+128>>8)}else for(var m=0;m<r;m++)for(var w=0;w<o;w++){var C=4*(m*o+w),v=e[C],g=e[C+1],P=e[C+2];l.set(w,m,n.red*v+n.green*g+n.blue*P)}var y,p=Math.ceil(o/8),b=Math.ceil(r/8),M=p*b;a&&(y=new Uint8ClampedArray(e.buffer,d,M),d+=M);for(var x,A=new Ee(p,b,y),I=0;I<b;I++)for(var L=0;L<p;L++){for(var E=1/0,N=0,R=0;R<8;R++)for(var T=0;T<8;T++){var U=l.get(8*L+T,8*I+R);E=Math.min(E,U),N=Math.max(N,U)}var z=(E+N)/2;if(z=Math.min(255,1.1*z),N-E<=24&&(z=E/2,I>0&&L>0)){var S=(A.get(L,I-1)+2*A.get(L-1,I)+A.get(L-1,I-1))/4;E<S&&(z=S)}A.set(L,I,z)}if(a){var F=new Uint8ClampedArray(e.buffer,d,s);d+=s,x=new Ie(F,o)}else x=Ie.createEmpty(o,r);var D=null;if(t)if(a){var X=new Uint8ClampedArray(e.buffer,d,s);D=new Ie(X,o)}else D=Ie.createEmpty(o,r);for(var O=0;O<b;O++)for(var H=0;H<p;H++){for(var j=Le(H,2,p-3),Y=Le(O,2,b-3),K=0,_=-2;_<=2;_++)for(var J=-2;J<=2;J++)K+=A.get(j+_,Y+J);for(var Q=K/25,$=0;$<8;$++)for(var Z=0;Z<8;Z++){var q=8*H+$,V=8*O+Z,W=l.get(q,V);x.set(q,V,W<=Q),t&&D.set(q,V,!(W<=Q))}}return t?{binarized:x,inverted:D}:{binarized:x}}var Re,Te,Ue=function(){function e(o){ce(this,e),this.byteOffset=0,this.bitOffset=0,this.bytes=o}return le(e,[{key:"readBits",value:function(e){if(e<1||e>32||e>this.available())throw new Error("Cannot read "+e.toString()+" bits");var o=0;if(this.bitOffset>0){var r=8-this.bitOffset,t=e<r?e:r,n=r-t,a=255>>8-t<<n;o=(this.bytes[this.byteOffset]&a)>>n,e-=t,this.bitOffset+=t,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(e>0){for(;e>=8;)o=o<<8|255&this.bytes[this.byteOffset],this.byteOffset++,e-=8;if(e>0){var s=8-e,c=255>>s<<s;o=o<<e|(this.bytes[this.byteOffset]&c)>>s,this.bitOffset+=e}}return o}},{key:"available",value:function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}]),e}();function ze(e,o){for(var r=[],t="",n=[10,12,14][o],a=e.readBits(n);a>=3;){var s=e.readBits(10);if(s>=1e3)throw new Error("Invalid numeric value above 999");var c=Math.floor(s/100),d=Math.floor(s/10)%10,l=s%10;r.push(48+c,48+d,48+l),t+=c.toString()+d.toString()+l.toString(),a-=3}if(2===a){var i=e.readBits(7);if(i>=100)throw new Error("Invalid numeric value above 99");var u=Math.floor(i/10),B=i%10;r.push(48+u,48+B),t+=u.toString()+B.toString()}else if(1===a){var k=e.readBits(4);if(k>=10)throw new Error("Invalid numeric value above 9");r.push(48+k),t+=k.toString()}return{bytes:r,text:t}}!function(e){e.Numeric="numeric",e.Alphanumeric="alphanumeric",e.Byte="byte",e.Kanji="kanji",e.ECI="eci"}(Re||(Re={})),function(e){e[e.Terminator=0]="Terminator",e[e.Numeric=1]="Numeric",e[e.Alphanumeric=2]="Alphanumeric",e[e.Byte=4]="Byte",e[e.Kanji=8]="Kanji",e[e.ECI=7]="ECI"}(Te||(Te={}));var Se=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Fe(e,o){for(var r=[],t="",n=[9,11,13][o],a=e.readBits(n);a>=2;){var s=e.readBits(11),c=Math.floor(s/45),d=s%45;r.push(Se[c].charCodeAt(0),Se[d].charCodeAt(0)),t+=Se[c]+Se[d],a-=2}if(1===a){var l=e.readBits(6);r.push(Se[l].charCodeAt(0)),t+=Se[l]}return{bytes:r,text:t}}function De(e,o){for(var r=[],t="",n=[8,16,16][o],a=e.readBits(n),s=0;s<a;s++){var c=e.readBits(8);r.push(c)}try{t+=decodeURIComponent(r.map((function(e){return"%".concat(("0"+e.toString(16)).substr(-2))})).join(""))}catch(e){}return{bytes:r,text:t}}function Xe(e,o){for(var r=[],t=[8,10,12][o],n=e.readBits(t),a=0;a<n;a++){var s=e.readBits(13),c=Math.floor(s/192)<<8|s%192;c+=c<7936?33088:49472,r.push(c>>8,255&c)}return{bytes:r,text:new TextDecoder("shift-jis").decode(Uint8Array.from(r))}}var Oe=function(){function e(o,r){if(ce(this,e),0===r.length)throw new Error("No coefficients.");this.field=o;var t=r.length;if(t>1&&0===r[0]){for(var n=1;n<t&&0===r[n];)n++;if(n===t)this.coefficients=o.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(t-n);for(var a=0;a<this.coefficients.length;a++)this.coefficients[a]=r[n+a]}}else this.coefficients=r}return le(e,[{key:"degree",value:function(){return this.coefficients.length-1}},{key:"isZero",value:function(){return 0===this.coefficients[0]}},{key:"getCoefficient",value:function(e){return this.coefficients[this.coefficients.length-1-e]}},{key:"addOrSubtract",value:function(o){if(this.isZero())return o;if(o.isZero())return this;var r=this.coefficients,t=o.coefficients;if(r.length>t.length){var n=[t,r];r=n[0],t=n[1]}for(var a=new Uint8ClampedArray(t.length),s=t.length-r.length,c=0;c<s;c++)a[c]=t[c];for(var d=s;d<t.length;d++)a[d]=He(r[d-s],t[d]);return new e(this.field,a)}},{key:"multiply",value:function(o){if(0===o)return this.field.zero;if(1===o)return this;for(var r=this.coefficients.length,t=new Uint8ClampedArray(r),n=0;n<r;n++)t[n]=this.field.multiply(this.coefficients[n],o);return new e(this.field,t)}},{key:"multiplyPoly",value:function(o){if(this.isZero()||o.isZero())return this.field.zero;for(var r=this.coefficients,t=r.length,n=o.coefficients,a=n.length,s=new Uint8ClampedArray(t+a-1),c=0;c<t;c++)for(var d=r[c],l=0;l<a;l++)s[c+l]=He(s[c+l],this.field.multiply(d,n[l]));return new e(this.field,s)}},{key:"multiplyByMonomial",value:function(o,r){if(o<0)throw new Error("Invalid degree less than 0");if(0===r)return this.field.zero;for(var t=this.coefficients.length,n=new Uint8ClampedArray(t+o),a=0;a<t;a++)n[a]=this.field.multiply(this.coefficients[a],r);return new e(this.field,n)}},{key:"evaluateAt",value:function(e){var o=0;if(0===e)return this.getCoefficient(0);var r=this.coefficients.length;if(1===e)return this.coefficients.forEach((function(e){o=He(o,e)})),o;o=this.coefficients[0];for(var t=1;t<r;t++)o=He(this.field.multiply(e,o),this.coefficients[t]);return o}}]),e}();function He(e,o){return e^o}var je=function(){function e(o,r,t){ce(this,e),this.primitive=o,this.size=r,this.generatorBase=t,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var n=1,a=0;a<this.size;a++)this.expTable[a]=n,(n*=2)>=this.size&&(n=(n^this.primitive)&this.size-1);for(var s=0;s<this.size-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new Oe(this,Uint8ClampedArray.from([0])),this.one=new Oe(this,Uint8ClampedArray.from([1]))}return le(e,[{key:"multiply",value:function(e,o){return 0===e||0===o?0:this.expTable[(this.logTable[e]+this.logTable[o])%(this.size-1)]}},{key:"inverse",value:function(e){if(0===e)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[e]-1]}},{key:"buildMonomial",value:function(e,o){if(e<0)throw new Error("Invalid monomial degree less than 0");if(0===o)return this.zero;var r=new Uint8ClampedArray(e+1);return r[0]=o,new Oe(this,r)}},{key:"log",value:function(e){if(0===e)throw new Error("Can't take log(0)");return this.logTable[e]}},{key:"exp",value:function(e){return this.expTable[e]}}]),e}();function Ye(e,o){var r=new Uint8ClampedArray(e.length);r.set(e);for(var t=new je(285,256,0),n=new Oe(t,r),a=new Uint8ClampedArray(o),s=!1,c=0;c<o;c++){var d=n.evaluateAt(t.exp(c+t.generatorBase));a[a.length-1-c]=d,0!==d&&(s=!0)}if(!s)return r;var l=new Oe(t,a),i=function(e,o,r,t){if(o.degree()<r.degree()){var n=[r,o];o=n[0],r=n[1]}for(var a=o,s=r,c=e.zero,d=e.one;s.degree()>=t/2;){var l=a,i=c;if(c=d,(a=s).isZero())return null;s=l;for(var u=e.zero,B=a.getCoefficient(a.degree()),k=e.inverse(B);s.degree()>=a.degree()&&!s.isZero();){var f=s.degree()-a.degree(),h=e.multiply(s.getCoefficient(s.degree()),k);u=u.addOrSubtract(e.buildMonomial(f,h)),s=s.addOrSubtract(a.multiplyByMonomial(f,h))}if(d=u.multiplyPoly(c).addOrSubtract(i),s.degree()>=a.degree())return null}var m=d.getCoefficient(0);if(0===m)return null;var w=e.inverse(m);return[d.multiply(w),s.multiply(w)]}(t,t.buildMonomial(o,1),l,o);if(null===i)return null;var u=function(e,o){var r=o.degree();if(1===r)return[o.getCoefficient(1)];for(var t=new Array(r),n=0,a=1;a<e.size&&n<r;a++)0===o.evaluateAt(a)&&(t[n]=e.inverse(a),n++);return n!==r?null:t}(t,i[0]);if(null==u)return null;for(var B=function(e,o,r){for(var t=r.length,n=new Array(t),a=0;a<t;a++){for(var s=e.inverse(r[a]),c=1,d=0;d<t;d++)a!==d&&(c=e.multiply(c,He(1,e.multiply(r[d],s))));n[a]=e.multiply(o.evaluateAt(s),e.inverse(c)),0!==e.generatorBase&&(n[a]=e.multiply(n[a],s))}return n}(t,i[1],u),k=0;k<u.length;k++){var f=r.length-1-t.log(u[k]);if(f<0)return null;r[f]=He(r[f],B[k])}return r}var Ke=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}];function _e(e,o){for(var r=e^o,t=0;r;)t++,r&=r-1;return t}function Je(e,o){return o<<1|e}var Qe=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],$e=[function(e){return(e.y+e.x)%2==0},function(e){return e.y%2==0},function(e){return e.x%3==0},function(e){return(e.y+e.x)%3==0},function(e){return(Math.floor(e.y/2)+Math.floor(e.x/3))%2==0},function(e){return e.x*e.y%2+e.x*e.y%3==0},function(e){return(e.y*e.x%2+e.y*e.x%3)%2==0},function(e){return((e.y+e.x)%2+e.y*e.x%3)%2==0}];function Ze(e,o,r){for(var t=$e[r.dataMask],n=e.height,a=function(e){var o=17+4*e.versionNumber,r=Ie.createEmpty(o,o);r.setRegion(0,0,9,9,!0),r.setRegion(o-8,0,8,9,!0),r.setRegion(0,o-8,9,8,!0);var t,n=ke(e.alignmentPatternCenters);try{for(n.s();!(t=n.n()).done;){var a,s=t.value,c=ke(e.alignmentPatternCenters);try{for(c.s();!(a=c.n()).done;){var d=a.value;6===s&&6===d||6===s&&d===o-7||s===o-7&&6===d||r.setRegion(s-2,d-2,5,5,!0)}}catch(e){c.e(e)}finally{c.f()}}}catch(e){n.e(e)}finally{n.f()}return r.setRegion(6,9,1,o-17,!0),r.setRegion(9,6,o-17,1,!0),e.versionNumber>6&&(r.setRegion(o-11,0,3,6,!0),r.setRegion(0,o-11,6,3,!0)),r}(o),s=[],c=0,d=0,l=!0,i=n-1;i>0;i-=2){6===i&&i--;for(var u=0;u<n;u++)for(var B=l?n-1-u:u,k=0;k<2;k++){var f=i-k;if(!a.get(f,B)){d++;var h=e.get(f,B);t({y:B,x:f})&&(h=!h),c=Je(h,c),8===d&&(s.push(c),d=0,c=0)}}l=!l}return s}function qe(e){var o=function(e){var o=e.height,r=Math.floor((o-17)/4);if(r<=6)return Ke[r-1];for(var t=0,n=5;n>=0;n--)for(var a=o-9;a>=o-11;a--)t=Je(e.get(a,n),t);for(var s=0,c=5;c>=0;c--)for(var d=o-9;d>=o-11;d--)s=Je(e.get(c,d),s);var l,i,u=1/0,B=ke(Ke);try{for(B.s();!(i=B.n()).done;){var k=i.value;if(k.infoBits===t||k.infoBits===s)return k;var f=_e(t,k.infoBits);f<u&&(l=k,u=f),(f=_e(s,k.infoBits))<u&&(l=k,u=f)}}catch(e){B.e(e)}finally{B.f()}return u<=3?l:void 0}(e);if(!o)return null;var r=function(e){for(var o=0,r=0;r<=8;r++)6!==r&&(o=Je(e.get(r,8),o));for(var t=7;t>=0;t--)6!==t&&(o=Je(e.get(8,t),o));for(var n=e.height,a=0,s=n-1;s>=n-7;s--)a=Je(e.get(8,s),a);for(var c=n-8;c<n;c++)a=Je(e.get(c,8),a);var d,l=1/0,i=null,u=ke(Qe);try{for(u.s();!(d=u.n()).done;){var B=d.value,k=B.bits,f=B.formatInfo;if(k===o||k===a)return f;var h=_e(o,k);h<l&&(i=f,l=h),o!==a&&(h=_e(a,k))<l&&(i=f,l=h)}}catch(e){u.e(e)}finally{u.f()}return l<=3?i:null}(e);if(!r)return null;var t=function(e,o,r){var t=o.errorCorrectionLevels[r],n=[],a=0;if(t.ecBlocks.forEach((function(e){for(var o=0;o<e.numBlocks;o++)n.push({numDataCodewords:e.dataCodewordsPerBlock,codewords:[]}),a+=e.dataCodewordsPerBlock+t.ecCodewordsPerBlock})),e.length<a)return null;e=e.slice(0,a);for(var s=t.ecBlocks[0].dataCodewordsPerBlock,c=0;c<s;c++){var d,l=ke(n);try{for(l.s();!(d=l.n()).done;){d.value.codewords.push(e.shift())}}catch(e){l.e(e)}finally{l.f()}}if(t.ecBlocks.length>1)for(var i=t.ecBlocks[0].numBlocks,u=t.ecBlocks[1].numBlocks,B=0;B<u;B++)n[i+B].codewords.push(e.shift());for(;e.length>0;){var k,f=ke(n);try{for(f.s();!(k=f.n()).done;){k.value.codewords.push(e.shift())}}catch(e){f.e(e)}finally{f.f()}}return n}(Ze(e,o,r),o,r.errorCorrectionLevel);if(!t)return null;var n,a=t.reduce((function(e,o){return e+o.numDataCodewords}),0),s=new Uint8ClampedArray(a),c=0,d=ke(t);try{for(d.s();!(n=d.n()).done;){var l=n.value,i=Ye(l.codewords,l.codewords.length-l.numDataCodewords);if(!i)return null;for(var u=0;u<l.numDataCodewords;u++)s[c++]=i[u]}}catch(e){d.e(e)}finally{d.f()}try{return function(e,o){for(var r=new Ue(e),t=o<=9?0:o<=26?1:2,n={text:"",bytes:[],chunks:[]};r.available()>=4;){var a=r.readBits(4);if(a===Te.Terminator)return n;if(a===Te.ECI)0===r.readBits(1)?n.chunks.push({type:Re.ECI,assignmentNumber:r.readBits(7)}):0===r.readBits(1)?n.chunks.push({type:Re.ECI,assignmentNumber:r.readBits(14)}):0===r.readBits(1)?n.chunks.push({type:Re.ECI,assignmentNumber:r.readBits(21)}):n.chunks.push({type:Re.ECI,assignmentNumber:-1});else if(a===Te.Numeric){var s,c=ze(r,t);n.text+=c.text,(s=n.bytes).push.apply(s,ie(c.bytes)),n.chunks.push({type:Re.Numeric,text:c.text})}else if(a===Te.Alphanumeric){var d,l=Fe(r,t);n.text+=l.text,(d=n.bytes).push.apply(d,ie(l.bytes)),n.chunks.push({type:Re.Alphanumeric,text:l.text})}else if(a===Te.Byte){var i,u=De(r,t);n.text+=u.text,(i=n.bytes).push.apply(i,ie(u.bytes)),n.chunks.push({type:Re.Byte,bytes:u.bytes,text:u.text})}else if(a===Te.Kanji){var B,k=Xe(r,t);n.text+=k.text,(B=n.bytes).push.apply(B,ie(k.bytes)),n.chunks.push({type:Re.Kanji,bytes:k.bytes,text:k.text})}}if(0===r.available()||0===r.readBits(r.available()))return n}(s,o.versionNumber)}catch(e){return null}}function Ve(e){if(null==e)return null;var o=qe(e);if(o)return o;for(var r=0;r<e.width;r++)for(var t=r+1;t<e.height;t++)e.get(r,t)!==e.get(t,r)&&(e.set(r,t,!e.get(r,t)),e.set(t,r,!e.get(t,r)));return qe(e)}function We(e,o,r,t){var n=e.x-o.x+r.x-t.x,a=e.y-o.y+r.y-t.y;if(0===n&&0===a)return{a11:o.x-e.x,a12:o.y-e.y,a13:0,a21:r.x-o.x,a22:r.y-o.y,a23:0,a31:e.x,a32:e.y,a33:1};var s=o.x-r.x,c=t.x-r.x,d=o.y-r.y,l=t.y-r.y,i=s*l-c*d,u=(n*l-c*a)/i,B=(s*a-n*d)/i;return{a11:o.x-e.x+u*o.x,a12:o.y-e.y+u*o.y,a13:u,a21:t.x-e.x+B*t.x,a22:t.y-e.y+B*t.y,a23:B,a31:e.x,a32:e.y,a33:1}}function Ge(e,o){for(var r,t,n=function(e,o,r,t){var n=We(e,o,r,t);return{a11:n.a22*n.a33-n.a23*n.a32,a12:n.a13*n.a32-n.a12*n.a33,a13:n.a12*n.a23-n.a13*n.a22,a21:n.a23*n.a31-n.a21*n.a33,a22:n.a11*n.a33-n.a13*n.a31,a23:n.a13*n.a21-n.a11*n.a23,a31:n.a21*n.a32-n.a22*n.a31,a32:n.a12*n.a31-n.a11*n.a32,a33:n.a11*n.a22-n.a12*n.a21}}({x:3.5,y:3.5},{x:o.dimension-3.5,y:3.5},{x:o.dimension-6.5,y:o.dimension-6.5},{x:3.5,y:o.dimension-3.5}),a=We(o.topLeft,o.topRight,o.alignmentPattern,o.bottomLeft),s=(t=n,{a11:(r=a).a11*t.a11+r.a21*t.a12+r.a31*t.a13,a12:r.a12*t.a11+r.a22*t.a12+r.a32*t.a13,a13:r.a13*t.a11+r.a23*t.a12+r.a33*t.a13,a21:r.a11*t.a21+r.a21*t.a22+r.a31*t.a23,a22:r.a12*t.a21+r.a22*t.a22+r.a32*t.a23,a23:r.a13*t.a21+r.a23*t.a22+r.a33*t.a23,a31:r.a11*t.a31+r.a21*t.a32+r.a31*t.a33,a32:r.a12*t.a31+r.a22*t.a32+r.a32*t.a33,a33:r.a13*t.a31+r.a23*t.a32+r.a33*t.a33}),c=Ie.createEmpty(o.dimension,o.dimension),d=function(e,o){var r=s.a13*e+s.a23*o+s.a33;return{x:(s.a11*e+s.a21*o+s.a31)/r,y:(s.a12*e+s.a22*o+s.a32)/r}},l=0;l<o.dimension;l++)for(var i=0;i<o.dimension;i++){var u=d(i+.5,l+.5);c.set(i,l,e.get(Math.floor(u.x),Math.floor(u.y)))}return{matrix:c,mappingFunction:d}}var eo=function(e,o){return Math.sqrt(Math.pow(o.x-e.x,2)+Math.pow(o.y-e.y,2))};function oo(e){return e.reduce((function(e,o){return e+o}))}function ro(e,o,r,t){var n,a,s,c,d=[{x:Math.floor(e.x),y:Math.floor(e.y)}],l=Math.abs(o.y-e.y)>Math.abs(o.x-e.x);l?(n=Math.floor(e.y),a=Math.floor(e.x),s=Math.floor(o.y),c=Math.floor(o.x)):(n=Math.floor(e.x),a=Math.floor(e.y),s=Math.floor(o.x),c=Math.floor(o.y));for(var i=Math.abs(s-n),u=Math.abs(c-a),B=Math.floor(-i/2),k=n<s?1:-1,f=a<c?1:-1,h=!0,m=n,w=a;m!==s+k;m+=k){var C=l?w:m,v=l?m:w;if(r.get(C,v)!==h&&(h=!h,d.push({x:C,y:v}),d.length===t+1))break;if((B+=u)>0){if(w===c)break;w+=f,B-=i}}for(var g=[],P=0;P<t;P++)d[P]&&d[P+1]?g.push(eo(d[P],d[P+1])):g.push(0);return g}function to(e,o,r,t){var n,a=o.y-e.y,s=o.x-e.x,c=ro(e,o,r,Math.ceil(t/2)),d=ro(e,{x:e.x-s,y:e.y-a},r,Math.ceil(t/2)),l=c.shift()+d.shift()-1;return(n=d.concat(l)).concat.apply(n,ie(c))}function no(e,o){var r=oo(e)/oo(o),t=0;return o.forEach((function(o,n){t+=Math.pow(e[n]-o*r,2)})),{averageSize:r,error:t}}function ao(e,o,r){try{var t=to(e,{x:-1,y:e.y},r,o.length),n=to(e,{x:e.x,y:-1},r,o.length),a=to(e,{x:Math.max(0,e.x-e.y)-1,y:Math.max(0,e.y-e.x)-1},r,o.length),s=to(e,{x:Math.min(r.width,e.x+e.y)+1,y:Math.min(r.height,e.y+e.x)+1},r,o.length),c=no(t,o),d=no(n,o),l=no(a,o),i=no(s,o),u=Math.sqrt(c.error*c.error+d.error*d.error+l.error*l.error+i.error*i.error),B=(c.averageSize+d.averageSize+l.averageSize+i.averageSize)/4;return u+(Math.pow(c.averageSize-B,2)+Math.pow(d.averageSize-B,2)+Math.pow(l.averageSize-B,2)+Math.pow(i.averageSize-B,2))/B}catch(e){return 1/0}}function so(e,o){for(var r=Math.round(o.x);e.get(r,Math.round(o.y));)r--;for(var t=Math.round(o.x);e.get(t,Math.round(o.y));)t++;for(var n=(r+t)/2,a=Math.round(o.y);e.get(Math.round(n),a);)a--;for(var s=Math.round(o.y);e.get(Math.round(n),s);)s++;return{x:n,y:(a+s)/2}}function co(e){for(var o=[],r=[],t=[],n=[],a=function(a){for(var s=0,c=!1,d=[0,0,0,0,0],l=-1;l<=e.width;l++){var i=e.get(l,a);if(i===c)s++;else{d=[d[1],d[2],d[3],d[4],s],s=1,c=i;var u=oo(d)/7,B=Math.abs(d[0]-u)<u&&Math.abs(d[1]-u)<u&&Math.abs(d[2]-3*u)<3*u&&Math.abs(d[3]-u)<u&&Math.abs(d[4]-u)<u&&!i,k=oo(d.slice(-3))/3,f=Math.abs(d[2]-k)<k&&Math.abs(d[3]-k)<k&&Math.abs(d[4]-k)<k&&i;B&&function(){var e=l-d[3]-d[4],o=e-d[2],t={startX:o,endX:e,y:a},n=r.filter((function(r){return o>=r.bottom.startX&&o<=r.bottom.endX||e>=r.bottom.startX&&o<=r.bottom.endX||o<=r.bottom.startX&&e>=r.bottom.endX&&d[2]/(r.bottom.endX-r.bottom.startX)<1.5&&d[2]/(r.bottom.endX-r.bottom.startX)>.5}));n.length>0?n[0].bottom=t:r.push({top:t,bottom:t})}(),f&&function(){var e=l-d[4],o=e-d[3],r={startX:o,y:a,endX:e},t=n.filter((function(r){return o>=r.bottom.startX&&o<=r.bottom.endX||e>=r.bottom.startX&&o<=r.bottom.endX||o<=r.bottom.startX&&e>=r.bottom.endX&&d[2]/(r.bottom.endX-r.bottom.startX)<1.5&&d[2]/(r.bottom.endX-r.bottom.startX)>.5}));t.length>0?t[0].bottom=r:n.push({top:r,bottom:r})}()}}o.push.apply(o,ie(r.filter((function(e){return e.bottom.y!==a&&e.bottom.y-e.top.y>=2})))),r=r.filter((function(e){return e.bottom.y===a})),t.push.apply(t,ie(n.filter((function(e){return e.bottom.y!==a})))),n=n.filter((function(e){return e.bottom.y===a}))},s=0;s<=e.height;s++)a(s);o.push.apply(o,ie(r.filter((function(e){return e.bottom.y-e.top.y>=2})))),t.push.apply(t,ie(n));var c=o.filter((function(e){return e.bottom.y-e.top.y>=2})).map((function(o){var r=(o.top.startX+o.top.endX+o.bottom.startX+o.bottom.endX)/4,t=(o.top.y+o.bottom.y+1)/2;if(e.get(Math.round(r),Math.round(t))){var n=[o.top.endX-o.top.startX,o.bottom.endX-o.bottom.startX,o.bottom.y-o.top.y+1],a=oo(n)/n.length;return{score:ao({x:Math.round(r),y:Math.round(t)},[1,1,3,1,1],e),x:r,y:t,size:a}}})).filter((function(e){return!!e})).sort((function(e,o){return e.score-o.score})).map((function(e,o,r){if(o>4)return null;var t=r.filter((function(e,r){return o!==r})).map((function(o){return{x:o.x,y:o.y,score:o.score+Math.pow(o.size-e.size,2)/e.size,size:o.size}})).sort((function(e,o){return e.score-o.score}));if(t.length<2)return null;var n=e.score+t[0].score+t[1].score;return{points:[e].concat(t.slice(0,2)),score:n}})).filter((function(e){return!!e})).sort((function(e,o){return e.score-o.score}));if(0===c.length)return null;var d=function(e,o,r){var t,n,a,s=eo(e,o),c=eo(o,r),d=eo(e,r);if(c>=s&&c>=d?(t=o,n=e,a=r):d>=c&&d>=s?(t=e,n=o,a=r):(t=e,n=r,a=o),(a.x-n.x)*(t.y-n.y)-(a.y-n.y)*(t.x-n.x)<0){var l=[a,t];t=l[0],a=l[1]}return{bottomLeft:t,topLeft:n,topRight:a}}(c[0].points[0],c[0].points[1],c[0].points[2]),l=d.topRight,i=d.topLeft,u=d.bottomLeft,B=lo(e,t,l,i,u),k=[];B&&k.push({alignmentPattern:{x:B.alignmentPattern.x,y:B.alignmentPattern.y},bottomLeft:{x:u.x,y:u.y},dimension:B.dimension,topLeft:{x:i.x,y:i.y},topRight:{x:l.x,y:l.y}});var f=so(e,l),h=so(e,i),m=so(e,u),w=lo(e,t,f,h,m);return w&&k.push({alignmentPattern:{x:w.alignmentPattern.x,y:w.alignmentPattern.y},bottomLeft:{x:m.x,y:m.y},topLeft:{x:h.x,y:h.y},topRight:{x:f.x,y:f.y},dimension:w.dimension}),0===k.length?null:k}function lo(e,o,r,t,n){var a,s;try{var c=function(e,o,r,t){var n=(oo(to(e,r,t,5))/7+oo(to(e,o,t,5))/7+oo(to(r,e,t,5))/7+oo(to(o,e,t,5))/7)/4;if(n<1)throw new Error("Invalid module size");var a=Math.round(eo(e,o)/n),s=Math.round(eo(e,r)/n),c=Math.floor((a+s)/2)+7;switch(c%4){case 0:c++;break;case 2:c--}return{dimension:c,moduleSize:n}}(t,r,n,e);a=c.dimension,s=c.moduleSize}catch(e){return null}var d=r.x-t.x+n.x,l=r.y-t.y+n.y,i=(eo(t,n)+eo(t,r))/2/s,u=1-3/i,B={x:t.x+u*(d-t.x),y:t.y+u*(l-t.y)},k=o.map((function(o){var r=(o.top.startX+o.top.endX+o.bottom.startX+o.bottom.endX)/4,t=(o.top.y+o.bottom.y+1)/2;if(e.get(Math.floor(r),Math.floor(t))){var n=[o.top.endX-o.top.startX,o.bottom.endX-o.bottom.startX,o.bottom.y-o.top.y+1];return oo(n),{x:r,y:t,score:ao({x:Math.floor(r),y:Math.floor(t)},[1,1,1],e)+eo({x:r,y:t},B)}}})).filter((function(e){return!!e})).sort((function(e,o){return e.score-o.score}));return{alignmentPattern:i>=15&&k.length?k[0]:B,dimension:a}}function io(e){var o=co(e);if(!o)return null;var r,t=ke(o);try{for(t.s();!(r=t.n()).done;){var n=r.value,a=Ge(e,n),s=Ve(a.matrix);if(s)return{binaryData:s.bytes,data:s.text,chunks:s.chunks,location:{topRightCorner:a.mappingFunction(n.dimension,0),topLeftCorner:a.mappingFunction(0,0),bottomRightCorner:a.mappingFunction(n.dimension,n.dimension),bottomLeftCorner:a.mappingFunction(0,n.dimension),topRightFinderPattern:n.topRight,topLeftFinderPattern:n.topLeft,bottomLeftFinderPattern:n.bottomLeft,bottomRightAlignmentPattern:n.alignmentPattern},matrix:a.matrix}}}catch(e){t.e(e)}finally{t.f()}return null}var uo={inversionAttempts:"attemptBoth",greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},canOverwriteImage:!0};function Bo(e,o){Object.keys(o).forEach((function(r){e[r]=o[r]}))}function ko(e,o,r){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=Object.create(null);Bo(n,uo),Bo(n,t);var a="onlyInvert"===n.inversionAttempts||"invertFirst"===n.inversionAttempts,s="attemptBoth"===n.inversionAttempts||a,c=Ne(e,o,r,s,n.greyScaleWeights,n.canOverwriteImage),d=c.binarized,l=c.inverted,i=io(a?l:d);return i||"attemptBoth"!==n.inversionAttempts&&"invertFirst"!==n.inversionAttempts||(i=io(a?d:l)),i}ko.default=ko;var fo=pe.escapeHtml,ho=pe.encodeUrl;function mo(e,o,r){return!r&&o&&(r=o),new Promise((function(t,n){try{var a;a=r.rawUri?r.rawUri:function(e){var o=e.wallet,r=e.xnote,t=e.note,n=e.label,a=e.amount,s=e.asset,c=e.html,d="";return s&&0===s.length&&(s=void 0),a&&(a=Number(a)>0?Number(s?a:1e6*a):void 0),n&&0===n.length&&(n=void 0),n&&o?(d="algorand://".concat(o,"?label=").concat(n),console.log("Label and wallet detected => It is a contact label Algorand URI: ",d)):s&&a&&o?(d="algorand://".concat(o,"?amount=").concat(a,"&asset=").concat(s),console.log("Asset, amount and wallet detected => It is an asset transfer transaction Algorand URI: ",d)):!s&&a&&o&&(d="algorand://".concat(o,"?amount=").concat(a),console.log("Amount and wallet detected => It is a payment transaction Algorand URI: ",d)),(t||r)&&(d+="".concat(r?"&xnote="+t:"&note="+t),console.log("Note detected => Adding to Algorand URI: ",d)),c&&(d=fo(d)),console.log("HTML option detected => Escaping HTML for Algorand URI: ",d),console.log("Encodeding Algorand URI..."),d=ho(d),console.log("Generated Algorand URI: ",d),d}(r);var s=se(a,r);t({dataUrl:e(s,o,r),alrorandURI:a})}catch(e){n(e)}}))}var wo=ko,Co=fo,vo=ho,go=se,Po=mo.bind(null,be.render),yo=mo.bind(null,be.renderToDataURL),po=mo.bind(null,(function(e,o,r){return Ae(e,r)})),bo={jsQR:wo,escapeHtml:Co,encodeUrl:vo,create:go,toCanvas:Po,toDataURL:yo,toString:po};return e.create=go,e.default=bo,e.encodeUrl=vo,e.escapeHtml=Co,e.jsQR=wo,e.toCanvas=Po,e.toDataURL=yo,e.toString=po,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
